## 隔离

- 数据隔离：分库分表
- 线程池隔离：按请求隔离，不同请求分配的请求池容量不同。hystrix
- 信号量隔离：计数器。hystrix
- 集群隔离：单独分出一组服务给核心业务，比如
- 机器隔离：给重要的用户单独配置服务器、根据用户等级路由
- 机房隔离：如局域网 IP 隔离
- 读写隔离：主从。
- 动静（的数据）隔离：放静态数据：nginx、apache；动态数据：mysql、redis
- 爬虫隔离：热门网站免不了被爬，其他方法可以用限流，如 nginx 限制 ua 或 IP，还可以
- 冷热隔离：
    - 热功能，秒杀、抢购的热功能提前隔离开；
    - 热数据读，可以用缓存；
    - 热数据写，一般用缓存+队列 延迟去写。

[参考：为什么要资源隔离](https://www.cnblogs.com/Courage129/p/14421585.html)

当对隔离的收益大于付出时，就隔离。

## 恢复

限流、熔断、降级 都是暂时性手段，当系统扛过峰值后，需要 撤出限流、消除降级、关闭熔断。

熔断的半开关就相当于恢复的动作：先少量通一些流量，若正常逐步加大流量。

半开关。1. 测试系统是否正常；2. 逐步加大流量直到完全恢复。（吞吐量爬升的过程很关键，尤其是对于大型系统来说，也同样给一些时间去建立缓存、加载类）
缓存数据预热。
