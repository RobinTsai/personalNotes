# lk-sdk

对象

- `TrackPublication` 表示音轨的元数据
- `Track` 表示原始媒体流

[媒体控制的文档](https://docs.livekit.io/home/client/tracks/)：

- 摄像头和麦克风
- 屏幕共享
- 订阅媒体
  - 轨道订阅 `RoomEvent.TrackSubscribed`
  - 媒体播放 `room.on(RoomEvent.TrackSubscribed, handleTrackSubscribed)`
  - 音量控制 `track.setVolume()`
  - 说话人识别 `RoomEvent.ActiveSpeakersChanged` 事件和 `ParticipantEvent.IsSpeakingChanged` 事件
  - 选择性订阅 `autoSubscribe: false` 禁用自动订阅
  - 前端 SDK：`publication.setSubscribed(true)`
  - 后端 SDK：`roomServiceClient.updateSubscriptions('room', "receiving-participant-identity"， ['TR_TRACKID'], true)`
  - 自适应流：用了 `Track.attach()` 自动的
  - 启用/禁用音轨（静音功能）：`publication.setEnabled(false)`（订阅和禁用的差别在于协商，订阅会协商握手，禁用不需要）
  - 直播推流控制：`publication.setVideoQuality(VideoQuality.LOW)`（展示视频缩略图时有用）
- 噪音/回声消除
- 端到端加密
- 编码等

[实时文本和数据](https://docs.livekit.io/home/client/data/)

- 发送文本：
  - 一次性发送 `room.localParticipant.sendText()`
  - 流式发送 `writer = room.localParticipant.streamText(); writer.write(text)`
  - 结束流 `room.localParticipant.registerTextStreamHandler()`
