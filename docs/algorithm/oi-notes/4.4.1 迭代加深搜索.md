# 迭代加深搜索

**迭代加深搜索** （Iterative Deepening DFS，IDDFS）是一种结合了 DFS 和 BFS 思想的搜索算法。它针对的搜索树很特别：不仅深，而且宽，深度可以达到无穷，宽度也接近无限。所以单用 DFS 或 BFS 都是无法进行处理的。

迭代加深搜索的一般做法是先固定在一层中 BFS 寻找答案，然后固定在两层中进行 BFS 寻找答案……即在确定层内是 DFS，在各层上是 BFS。

注意的问题：各层 BFS 要有明显的结束条件。

用 IDDFS 的经典题是埃及分数，见下方。

## 例题：埃及分数

[LibreOJ - 埃及分数](https://loj.ac/p/10022)，用不同的 *单位分数* 的和表示任何一个分数。

![](https://upload-images.jianshu.io/upload_images/3491218-86a3b9743804abfe.jpg)

通过如上图的展示，结合上述 IDDFS 的一般做法应该很容易可以理解操作过程。由于所建的树每一次是有大小关系的，所以可以确定 BFS 的结束条件。

解题思路：
- 只考虑一层进行 BFS 找解，当解小于目标值的时候，进行下一层考虑
- 只考虑前两层，进行 DFS 求两层的和，每一层在 BFS 到和小于目标值时
- 因为题目要求的是首先个数最少，然后最小的小数比较大，所以每选定的几层，都要进行 BFS 结束

第一次失败：遇到计算不精确，使用的是 float64 的来回加来减去，当次数太多时可能误差越来越大
第二次失败：超时，预计可以直接算到预期值，而不是 DFS 做，https://loj.ac/s/1506887