# 查询方式

学名叫访问方法（access method），就是指执行查询语句的方式。

## 单表的查询方式

单表的查询方式有如下几种：

- const: 常数级别。用主键列或唯一二级索引列和常数等值比较时的查询
- ref: 使用二级索引等值查询命中查询出多条，然后通过回表返回信息
- ref_or_null: ref + `xxx is NULL` 的查询
- range: 用若干个单点扫描区间或范围扫描区间时（如用 IN 或用 大于）
- index: 只扫描二级索引的覆盖查询
- all: 全表扫描的查询
- index_merge: 索引合并
- 等等

索引合并

- Intersection 索引合并：查询中两个 and 相关的条件分别命中索引，且主键的顺序一致时，会用到此优化查询。
- Union 索引合并：查询中两个 or 相关的条件分别命中索引，且主键的顺序一致时，会用到此优化查询。去重后再回表。
- Sort-Union 索引合并：查询中两个 or 相关的条件分别命中索引，又分别按主键进行文件排序，然后对主键合并去重后进行返回（或回表）。

> 无 Sort-Intersection 索引合并：
> Sort-Intersection 中先 sort 然后取交集，不论查询结果是小是大，排序的成本都会比回表的成本大。

## 跨表的查询方式

> 跨表，主要就是用到连接时。
> 跨表，分为驱动表和被驱动表。

- eq_ref：被驱动表查询方式是用主键或非 NULL 的唯一二级索引进行等值查找时（对应单表的 const）
- xxxx
