# 接口和反射

- Go 的接口扁平化、面向组合的设计模式（而非继承）
- 两种接口：一种是空接口；另一种是带方法签名集合的接口
- 接口的动态类型：就是将变量定义为接口类型，然后任何此接口的实现都可以赋值
- 接口可以进行比较，会同时比较其类型和值，如果动态类型的值不可以比较，那么运行时会发生错误
- 接口中的方法的存储是排序后存储的（同类型的只排序一次，与分配的变量多少无关）
- 查找类型是否实现了某接口复杂度是 O(m+n)
- 接口的实现：
  - itab 指向接口的类型信息；
  - data 存储了动态类型的指针。
- 内存逃逸：平时分配给栈的值一旦分配给接口，就会逃逸到堆
- 动态调用效率：动态调用的效率主要在于 **接收者** 从堆到栈的内存复制问题，用指针是效率最高的
- 用值做接收者实现的接口是无法用指针调用接口中的函数的（编译无法通过）

## 反射
