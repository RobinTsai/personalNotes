# 目录结构

在安装目录下
```sh
sounds 提供各种声音文件，sounds/music 提供 MOH（Music On Hold，保持音乐）
storage 存放从其他 HTTP 服务器下载下来的语音文件缓存及录音留言文件
conf 存放配置文件
```

着重介绍下配置文件，配置文件由众多 XML 组成系统装载时，会将 XML 组织在一起 Load 到内存，成为 XML 注册表。

- `conf/freeswitch.xml` 是主入口，是所有 XML 文件的黏合剂。标签 `X-PRE-PROCESS` 是预处理命令，是在加载阶段只进行简单的替换不会被解析，所以对它进行注释仍然会发生替换，需要注意一些影响。
- `vars.xml` 是通过  `X-PRE-PROCESS` 定义的一些全局变量，在后续以 `$${var}` 的方式进行引用。可以通过 `global_getvar` 命令来查看变量值。
- autoload_configs 目录下是模块级的配置文件，命令方式 `模块名.conf.xml`（无前缀 mod_），会在系统启动的时候 Load。各模块查找是通过 configuration 标签的 name 属性查找的。如 mod_sofia 在启动时会向 XML 注册表中查找 configuration 标签为 sofia.conf 的配置。
    - autoload_configs 下的 modules.conf.xml 定义了启动时自动加载哪些模块。
    - autoload_configs 下的 post_load_modules.conf.xml 中定义的模块是最后加载的。
- `conf/dialplan` 目录中的 XML 是路由计划
- `conf/ivr_menues` 中存放了默认的 IVR 菜单
- `conf/directory` 中存放了用户配置目录（用户目录）。FS 的 **用户目录** 支持多个域（Domain）。
