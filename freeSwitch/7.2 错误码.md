# 错误码

- [FS 错误码速查表](https://www.cnblogs.com/yjmyzz/p/freeswitch-hangup-cause.html)
- SIP 错误码速查参考 [RFC-3261](https://www.rfc-editor.org/rfc/rfc3261#section-21)

FS 的错误码不同于 SIP 的错误码。

## FS

### USER_BUSY 486

直观：用户忙。
解释：表示被叫方由于触发了用户忙碌的条件不能接受本呼叫，原因可能来自于被叫用户，也可能是线路。在用户决定为忙碌时表明用户的设备和呼叫是兼容的。
注意：可能是线路网络原因。
例证：网关线路配错到某个私有网关，造成大批量此问题。

### INCOMPATIBLE_DESTINATION 488

直观：不兼容的目的地
解释：通常表明创建呼叫连接的时候一些属性无法兼容。
方法：抓包，比对 SDP 属性信息。
例证：数据速率、IP v4 还是 v6 等。
实例：在坐席侧 webrtc 场景中，invite 坐席时发现 candidate 有两条 udp 记录，但坐席侧 180 SDP 携带 c=IN IP4 0.0.0.0，candidate 显示一条 tcp 记录，日志中有 no suitable candidates found 并响应 488 INCOMPATIBLE_DESTINATION。

## SIP

### 606 NotAcceptable

直观：不可接受的
解释：可确定消息已到达用户终端，但 SDP 部分属性不支持
例证：媒体、bandwidth、地址 style 等
补充：响应中可能会在 Warning 头域中携带 reasons 列表解释

### 488 Not Acceptable Here

解释：同 606，但仅应用于被 Request-URI 指定的资源地址
经验：客户端只支持 PCMA，但对方请求的是 PCMU 编码，导致本端返回 488
