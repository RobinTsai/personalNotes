# 分布式文件存储 GridFS 

- \< 16M 的数据可以直接用 Doc 存储（二进制数据）
- \> 16M 的数据用 GridFS

原理：
- 存储：GridFS 会将大文件切割成许多小块，再将小块作为文档记录保存到响应集合
- 查询：将所有小块合并成完成的文件，返回给客户端

工具：mongofiles

库和集合：
- files：存储文件的元数据信息
- chunks：存储被分割的内容块

使用场景：
- 文件数量超过文件系统允许最大数（NTFS 为 2^32 -1 ）
- 只需要获取部分文件的内容
- 分布式异地文件存储